"use strict";(()=>{var e={};e.id=232,e.ids=[232,888,660],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},5308:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>p,default:()=>m,getServerSideProps:()=>x,getStaticPaths:()=>u,getStaticProps:()=>h,reportWebVitals:()=>g,routeModule:()=>P,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>f});var a=s(7093),n=s(5244),i=s(1323),l=s(1070),o=s(3893),c=s(8566),d=e([o]);o=(d.then?(await d)():d)[0];let m=(0,i.l)(c,"default"),h=(0,i.l)(c,"getStaticProps"),u=(0,i.l)(c,"getStaticPaths"),x=(0,i.l)(c,"getServerSideProps"),p=(0,i.l)(c,"config"),g=(0,i.l)(c,"reportWebVitals"),f=(0,i.l)(c,"unstable_getStaticProps"),j=(0,i.l)(c,"unstable_getStaticPaths"),b=(0,i.l)(c,"unstable_getStaticParams"),y=(0,i.l)(c,"unstable_getServerProps"),v=(0,i.l)(c,"unstable_getServerSideProps"),P=new a.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/news/[id]",pathname:"/news/[id]",bundlePath:"",filename:""},components:{App:o.default,Document:l.default},userland:c});r()}catch(e){r(e)}})},1070:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(997),a=s(6859),n=s.n(a);class i extends n(){static async getInitialProps(e){return{...await n().getInitialProps(e)}}render(){return(0,r.jsxs)(a.Html,{lang:"zh",children:[(0,r.jsxs)(a.Head,{children:[r.jsx("meta",{charSet:"utf-8"}),r.jsx("meta",{name:"description",content:"全球最新科技资讯平台 - 提供结构化、可视化和AI小总结的科技资讯"}),r.jsx("meta",{name:"keywords",content:"科技资讯,AI小总结,结构化信息,可视化,科技新闻"}),r.jsx("link",{rel:"icon",href:"/favicon.ico"}),r.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),r.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),r.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto+Mono&display=swap",rel:"stylesheet"})]}),(0,r.jsxs)("body",{children:[r.jsx(a.Main,{}),r.jsx(a.NextScript,{})]})]})}}let l=i},8566:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h,getStaticPaths:()=>d,getStaticProps:()=>m});var r=s(997);s(6689);var a=s(1163),n=s(968),i=s.n(n),l=s(1664),o=s.n(l);let c=process.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:3000",d=async()=>{try{let e=`${c}/api/news/trending?limit=10`;console.log("Fetching trending news for getStaticPaths from:",e);let t=await fetch(e);if(!t.ok)throw Error(`获取热门新闻失败: ${t.status} - ${t.statusText}`);let s=await t.json();return{paths:(s.data?.news||[]).map(e=>({params:{id:e.id.toString()}})),fallback:"blocking"}}catch(e){return console.error("获取新闻路径失败:",e),{paths:[],fallback:"blocking"}}},m=async({params:e})=>{try{let{id:t}=e,s=`${c}/api/news/${t}`;console.log("Fetching news detail for getStaticProps from:",s);let r=await fetch(s);if(!r.ok)throw Error(`获取新闻详情失败: ${r.status} - ${r.statusText}`);let a=(await r.json()).data;if(!a)return{notFound:!0,revalidate:60};let n=`${c}/api/news?category=${a.category}&limit=3`;console.log("Fetching related news for getStaticProps from:",n);let i=await fetch(n),l=[];if(i.ok){let e=await i.json();l=(e.data?.news||[]).filter(e=>e.id!==a.id).slice(0,3)}return{props:{news:a,relatedNews:l,lastUpdated:new Date().toISOString()},revalidate:3600}}catch(e){return console.error("获取新闻详情失败:",e),{notFound:!0,revalidate:60}}},h=({news:e,relatedNews:t,lastUpdated:s})=>{let n=(0,a.useRouter)();if(n.isFallback)return r.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"animate-pulse space-y-6",children:[r.jsx("div",{className:"h-8 bg-secondary-200 rounded w-2/3 mb-4"}),r.jsx("div",{className:"h-4 bg-secondary-200 rounded w-1/3 mb-8"}),r.jsx("div",{className:"h-64 bg-secondary-200 rounded mb-6"}),r.jsx("div",{className:"h-4 bg-secondary-200 rounded w-full mb-2"}),r.jsx("div",{className:"h-4 bg-secondary-200 rounded w-full mb-2"}),r.jsx("div",{className:"h-4 bg-secondary-200 rounded w-3/4"})]})});let l=new Date(s).toLocaleString("zh-CN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=new Date(e.publishDate).toLocaleString("zh-CN",{year:"numeric",month:"long",day:"numeric"});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i(),{children:[(0,r.jsxs)("title",{children:[e.title," - 科技资讯"]}),r.jsx("meta",{name:"description",content:e.summary})]}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-4",children:e.title}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center text-secondary-600 mb-6",children:[(0,r.jsxs)("span",{className:"mr-4",children:[r.jsx("span",{className:"font-medium",children:"来源:"})," ",e.source]}),(0,r.jsxs)("span",{className:"mr-4",children:[r.jsx("span",{className:"font-medium",children:"发布于:"})," ",c]}),e.category&&(0,r.jsxs)(o(),{href:`/category/${e.category}`,className:"mr-4 text-primary-600 hover:underline",children:["#",e.category]})]}),(0,r.jsxs)("p",{className:"text-sm text-secondary-500 mb-6",children:["此页面最后更新于: ",l]})]}),(0,r.jsxs)("div",{className:"prose max-w-none mb-8",children:[e.image&&r.jsx("div",{className:"mb-6",children:r.jsx("img",{src:e.image,alt:e.title,className:"w-full h-auto rounded-lg shadow-md"})}),r.jsx("div",{className:"bg-secondary-50 border-l-4 border-primary-500 p-4 mb-6",children:r.jsx("p",{className:"font-medium",children:e.summary})}),r.jsx("div",{dangerouslySetInnerHTML:{__html:e.content||"<p>暂无详细内容</p>"}})]}),e.tags&&e.tags.length>0&&(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-3",children:"相关标签"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(e=>r.jsx(o(),{href:`/search?tag=${encodeURIComponent(e)}`,className:"bg-secondary-100 hover:bg-secondary-200 text-secondary-800 px-3 py-1 rounded-full text-sm transition-colors",children:e},e))})]}),t.length>0&&(0,r.jsxs)("div",{className:"mt-12",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"相关资讯"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(e=>r.jsx("div",{className:"border border-secondary-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:(0,r.jsxs)(o(),{href:`/news/${e.id}`,children:[e.image&&r.jsx("img",{src:e.image,alt:e.title,className:"w-full h-40 object-cover"}),(0,r.jsxs)("div",{className:"p-4",children:[r.jsx("h3",{className:"font-medium text-lg mb-2 line-clamp-2",children:e.title}),r.jsx("p",{className:"text-secondary-600 text-sm line-clamp-3",children:e.summary})]})]})},e.id))})]}),(0,r.jsxs)("div",{className:"mt-8 flex justify-between items-center",children:[r.jsx("button",{onClick:()=>n.back(),className:"btn-secondary",children:"返回上一页"}),r.jsx(o(),{href:`/news/${e.id}`,className:"text-primary-600 hover:underline",children:"查看动态版本"})]})]})]})}},5244:(e,t)=>{var s;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return s}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(s||(s={}))},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},1175:e=>{e.exports=require("react-query")},997:e=>{e.exports=require("react/jsx-runtime")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")},9648:e=>{e.exports=import("axios")},6201:e=>{e.exports=import("react-hot-toast")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[567,424,859,893],()=>s(5308));module.exports=r})();