"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/news";
exports.ids = ["pages/api/news"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fnews&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cnews%5Cindex.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fnews&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cnews%5Cindex.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_news_index_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\news\\index.ts */ \"(api)/./src/pages/api/news/index.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_news_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_news_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/news\",\n        pathname: \"/api/news\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_news_index_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRm5ld3MmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlNUNwYWdlcyU1Q2FwaSU1Q25ld3MlNUNpbmRleC50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUM4RDtBQUM5RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMseURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHlEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL2dsb2JhbC10ZWNoLW5ld3MvPzQ5ZDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3NyY1xcXFxwYWdlc1xcXFxhcGlcXFxcbmV3c1xcXFxpbmRleC50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL25ld3NcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9uZXdzXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fnews&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cnews%5Cindex.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/db.js":
/*!*******************!*\
  !*** ./lib/db.js ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGO_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"请在环境变量中定义MONGO_URI\");\n}\n/**\n * 全局缓存MongoDB连接\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\n/**\n * 连接MongoDB数据库\n * @returns {Promise<mongoose.Connection>}\n */ async function connectDB() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectDB);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWhDLE1BQU1DLGNBQWNDLFFBQVFDLEdBQUcsQ0FBQ0MsU0FBUztBQUV6QyxJQUFJLENBQUNILGFBQWE7SUFDaEIsTUFBTSxJQUFJSSxNQUFNO0FBQ2xCO0FBRUE7O0NBRUMsR0FDRCxJQUFJQyxTQUFTQyxPQUFPUCxRQUFRO0FBRTVCLElBQUksQ0FBQ00sUUFBUTtJQUNYQSxTQUFTQyxPQUFPUCxRQUFRLEdBQUc7UUFBRVEsTUFBTTtRQUFNQyxTQUFTO0lBQUs7QUFDekQ7QUFFQTs7O0NBR0MsR0FDRCxlQUFlQztJQUNiLElBQUlKLE9BQU9FLElBQUksRUFBRTtRQUNmLE9BQU9GLE9BQU9FLElBQUk7SUFDcEI7SUFFQSxJQUFJLENBQUNGLE9BQU9HLE9BQU8sRUFBRTtRQUNuQixNQUFNRSxPQUFPO1lBQ1hDLGdCQUFnQjtRQUNsQjtRQUVBTixPQUFPRyxPQUFPLEdBQUdULHVEQUFnQixDQUFDQyxhQUFhVSxNQUFNRyxJQUFJLENBQUMsQ0FBQ2Q7WUFDekQsT0FBT0E7UUFDVDtJQUNGO0lBRUEsSUFBSTtRQUNGTSxPQUFPRSxJQUFJLEdBQUcsTUFBTUYsT0FBT0csT0FBTztJQUNwQyxFQUFFLE9BQU9NLEdBQUc7UUFDVlQsT0FBT0csT0FBTyxHQUFHO1FBQ2pCLE1BQU1NO0lBQ1I7SUFFQSxPQUFPVCxPQUFPRSxJQUFJO0FBQ3BCO0FBRUEsaUVBQWVFLFNBQVNBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nbG9iYWwtdGVjaC1uZXdzLy4vbGliL2RiLmpzPzNkYzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxuY29uc3QgTU9OR09EQl9VUkkgPSBwcm9jZXNzLmVudi5NT05HT19VUkk7XG5cbmlmICghTU9OR09EQl9VUkkpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCfor7flnKjnjq/looPlj5jph4/kuK3lrprkuYlNT05HT19VUkknKTtcbn1cblxuLyoqXG4gKiDlhajlsYDnvJPlrZhNb25nb0RC6L+e5o6lXG4gKi9cbmxldCBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2U7XG5cbmlmICghY2FjaGVkKSB7XG4gIGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZSA9IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9O1xufVxuXG4vKipcbiAqIOi/nuaOpU1vbmdvRELmlbDmja7lupNcbiAqIEByZXR1cm5zIHtQcm9taXNlPG1vbmdvb3NlLkNvbm5lY3Rpb24+fVxuICovXG5hc3luYyBmdW5jdGlvbiBjb25uZWN0REIoKSB7XG4gIGlmIChjYWNoZWQuY29ubikge1xuICAgIHJldHVybiBjYWNoZWQuY29ubjtcbiAgfVxuXG4gIGlmICghY2FjaGVkLnByb21pc2UpIHtcbiAgICBjb25zdCBvcHRzID0ge1xuICAgICAgYnVmZmVyQ29tbWFuZHM6IGZhbHNlLFxuICAgIH07XG5cbiAgICBjYWNoZWQucHJvbWlzZSA9IG1vbmdvb3NlLmNvbm5lY3QoTU9OR09EQl9VUkksIG9wdHMpLnRoZW4oKG1vbmdvb3NlKSA9PiB7XG4gICAgICByZXR1cm4gbW9uZ29vc2U7XG4gICAgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIGNhY2hlZC5jb25uID0gYXdhaXQgY2FjaGVkLnByb21pc2U7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjYWNoZWQucHJvbWlzZSA9IG51bGw7XG4gICAgdGhyb3cgZTtcbiAgfVxuXG4gIHJldHVybiBjYWNoZWQuY29ubjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdERCOyJdLCJuYW1lcyI6WyJtb25nb29zZSIsIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsIk1PTkdPX1VSSSIsIkVycm9yIiwiY2FjaGVkIiwiZ2xvYmFsIiwiY29ubiIsInByb21pc2UiLCJjb25uZWN0REIiLCJvcHRzIiwiYnVmZmVyQ29tbWFuZHMiLCJjb25uZWN0IiwidGhlbiIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/db.js\n");

/***/ }),

/***/ "(api)/./lib/redis.js":
/*!**********************!*\
  !*** ./lib/redis.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * Upstash Redis REST API 客户端\n * 适用于Vercel等无服务器环境\n */ const REDIS_URL = process.env.REDIS_URL;\nconst REDIS_TOKEN = process.env.REDIS_TOKEN;\nif (!REDIS_URL || !REDIS_TOKEN) {\n    throw new Error(\"请在环境变量中定义REDIS_URL和REDIS_TOKEN\");\n}\nclass RedisClient {\n    constructor(){\n        this.baseUrl = REDIS_URL;\n        this.token = REDIS_TOKEN;\n    }\n    /**\n   * 执行Redis命令\n   * @param {Array} command - Redis命令数组\n   * @returns {Promise<any>}\n   */ async execute(command) {\n        try {\n            const response = await fetch(`${this.baseUrl}`, {\n                method: \"POST\",\n                headers: {\n                    \"Authorization\": `Bearer ${this.token}`,\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(command)\n            });\n            if (!response.ok) {\n                throw new Error(`Redis请求失败: ${response.status}`);\n            }\n            const data = await response.json();\n            return data.result;\n        } catch (error) {\n            console.error(\"Redis操作错误:\", error);\n            throw error;\n        }\n    }\n    /**\n   * 设置键值对\n   * @param {string} key - 键\n   * @param {string} value - 值\n   * @param {number} ttl - 过期时间（秒）\n   * @returns {Promise<string>}\n   */ async set(key, value, ttl = null) {\n        const command = ttl ? [\n            \"SET\",\n            key,\n            value,\n            \"EX\",\n            ttl\n        ] : [\n            \"SET\",\n            key,\n            value\n        ];\n        return await this.execute(command);\n    }\n    /**\n   * 获取值\n   * @param {string} key - 键\n   * @returns {Promise<string|null>}\n   */ async get(key) {\n        return await this.execute([\n            \"GET\",\n            key\n        ]);\n    }\n    /**\n   * 删除键\n   * @param {string} key - 键\n   * @returns {Promise<number>}\n   */ async del(key) {\n        return await this.execute([\n            \"DEL\",\n            key\n        ]);\n    }\n    /**\n   * 检查键是否存在\n   * @param {string} key - 键\n   * @returns {Promise<number>}\n   */ async exists(key) {\n        return await this.execute([\n            \"EXISTS\",\n            key\n        ]);\n    }\n    /**\n   * 设置过期时间\n   * @param {string} key - 键\n   * @param {number} seconds - 过期时间（秒）\n   * @returns {Promise<number>}\n   */ async expire(key, seconds) {\n        return await this.execute([\n            \"EXPIRE\",\n            key,\n            seconds\n        ]);\n    }\n    /**\n   * 获取所有匹配的键\n   * @param {string} pattern - 匹配模式\n   * @returns {Promise<Array>}\n   */ async keys(pattern) {\n        return await this.execute([\n            \"KEYS\",\n            pattern\n        ]);\n    }\n    /**\n   * 列表操作 - 左推入\n   * @param {string} key - 键\n   * @param {string} value - 值\n   * @returns {Promise<number>}\n   */ async lpush(key, value) {\n        return await this.execute([\n            \"LPUSH\",\n            key,\n            value\n        ]);\n    }\n    /**\n   * 列表操作 - 右弹出\n   * @param {string} key - 键\n   * @returns {Promise<string|null>}\n   */ async rpop(key) {\n        return await this.execute([\n            \"RPOP\",\n            key\n        ]);\n    }\n    /**\n   * 获取列表长度\n   * @param {string} key - 键\n   * @returns {Promise<number>}\n   */ async llen(key) {\n        return await this.execute([\n            \"LLEN\",\n            key\n        ]);\n    }\n    /**\n   * 获取列表范围\n   * @param {string} key - 键\n   * @param {number} start - 开始索引\n   * @param {number} stop - 结束索引\n   * @returns {Promise<Array>}\n   */ async lrange(key, start, stop) {\n        return await this.execute([\n            \"LRANGE\",\n            key,\n            start,\n            stop\n        ]);\n    }\n}\n// 创建单例实例\nconst redisClient = new RedisClient();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (redisClient);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QjtTQUFJO0lBQ3pDO0lBRUE7Ozs7OztHQU1DLEdBQ0QsTUFBTWEsT0FBT2IsR0FBRyxFQUFFYyxLQUFLLEVBQUVDLElBQUksRUFBRTtRQUM3QixPQUFPLE1BQU0sSUFBSSxDQUFDaEMsT0FBTyxDQUFDO1lBQUM7WUFBVWlCO1lBQUtjO1lBQU9DO1NBQUs7SUFDeEQ7QUFDRjtBQUVBLFNBQVM7QUFDVCxNQUFNQyxjQUFjLElBQUlyQztBQUV4QixpRUFBZXFDLFdBQVdBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nbG9iYWwtdGVjaC1uZXdzLy4vbGliL3JlZGlzLmpzP2ZhYzQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVcHN0YXNoIFJlZGlzIFJFU1QgQVBJIOWuouaIt+err1xuICog6YCC55So5LqOVmVyY2Vs562J5peg5pyN5Yqh5Zmo546v5aKDXG4gKi9cblxuY29uc3QgUkVESVNfVVJMID0gcHJvY2Vzcy5lbnYuUkVESVNfVVJMO1xuY29uc3QgUkVESVNfVE9LRU4gPSBwcm9jZXNzLmVudi5SRURJU19UT0tFTjtcblxuaWYgKCFSRURJU19VUkwgfHwgIVJFRElTX1RPS0VOKSB7XG4gIHRocm93IG5ldyBFcnJvcign6K+35Zyo546v5aKD5Y+Y6YeP5Lit5a6a5LmJUkVESVNfVVJM5ZKMUkVESVNfVE9LRU4nKTtcbn1cblxuY2xhc3MgUmVkaXNDbGllbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJhc2VVcmwgPSBSRURJU19VUkw7XG4gICAgdGhpcy50b2tlbiA9IFJFRElTX1RPS0VOO1xuICB9XG5cbiAgLyoqXG4gICAqIOaJp+ihjFJlZGlz5ZG95LukXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNvbW1hbmQgLSBSZWRpc+WRveS7pOaVsOe7hFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgYXN5bmMgZXhlY3V0ZShjb21tYW5kKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfWAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLnRva2VufWAsXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY29tbWFuZCksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlZGlz6K+35rGC5aSx6LSlOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHJldHVybiBkYXRhLnJlc3VsdDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignUmVkaXPmk43kvZzplJnor686JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOiuvue9rumUruWAvOWvuVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0g6ZSuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIOWAvFxuICAgKiBAcGFyYW0ge251bWJlcn0gdHRsIC0g6L+H5pyf5pe26Ze077yI56eS77yJXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4gICAqL1xuICBhc3luYyBzZXQoa2V5LCB2YWx1ZSwgdHRsID0gbnVsbCkge1xuICAgIGNvbnN0IGNvbW1hbmQgPSB0dGwgPyBbJ1NFVCcsIGtleSwgdmFsdWUsICdFWCcsIHR0bF0gOiBbJ1NFVCcsIGtleSwgdmFsdWVdO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGUoY29tbWFuZCk7XG4gIH1cblxuICAvKipcbiAgICog6I635Y+W5YC8XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSDplK5cbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nfG51bGw+fVxuICAgKi9cbiAgYXN5bmMgZ2V0KGtleSkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGUoWydHRVQnLCBrZXldKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDliKDpmaTplK5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIOmUrlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxudW1iZXI+fVxuICAgKi9cbiAgYXN5bmMgZGVsKGtleSkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGUoWydERUwnLCBrZXldKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmo4Dmn6XplK7mmK/lkKblrZjlnKhcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIOmUrlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxudW1iZXI+fVxuICAgKi9cbiAgYXN5bmMgZXhpc3RzKGtleSkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGUoWydFWElTVFMnLCBrZXldKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDorr7nva7ov4fmnJ/ml7bpl7RcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIOmUrlxuICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyAtIOi/h+acn+aXtumXtO+8iOenku+8iVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxudW1iZXI+fVxuICAgKi9cbiAgYXN5bmMgZXhwaXJlKGtleSwgc2Vjb25kcykge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGUoWydFWFBJUkUnLCBrZXksIHNlY29uZHNdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5bmiYDmnInljLnphY3nmoTplK5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdHRlcm4gLSDljLnphY3mqKHlvI9cbiAgICogQHJldHVybnMge1Byb21pc2U8QXJyYXk+fVxuICAgKi9cbiAgYXN5bmMga2V5cyhwYXR0ZXJuKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZXhlY3V0ZShbJ0tFWVMnLCBwYXR0ZXJuXSk7XG4gIH1cblxuICAvKipcbiAgICog5YiX6KGo5pON5L2cIC0g5bem5o6o5YWlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSDplK5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0g5YC8XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPG51bWJlcj59XG4gICAqL1xuICBhc3luYyBscHVzaChrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZXhlY3V0ZShbJ0xQVVNIJywga2V5LCB2YWx1ZV0pO1xuICB9XG5cbiAgLyoqXG4gICAqIOWIl+ihqOaTjeS9nCAtIOWPs+W8ueWHulxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0g6ZSuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZ3xudWxsPn1cbiAgICovXG4gIGFzeW5jIHJwb3Aoa2V5KSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZXhlY3V0ZShbJ1JQT1AnLCBrZXldKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5bliJfooajplb/luqZcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIOmUrlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxudW1iZXI+fVxuICAgKi9cbiAgYXN5bmMgbGxlbihrZXkpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5leGVjdXRlKFsnTExFTicsIGtleV0pO1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPluWIl+ihqOiMg+WbtFxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0g6ZSuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIOW8gOWni+e0ouW8lVxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RvcCAtIOe7k+adn+e0ouW8lVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheT59XG4gICAqL1xuICBhc3luYyBscmFuZ2Uoa2V5LCBzdGFydCwgc3RvcCkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGUoWydMUkFOR0UnLCBrZXksIHN0YXJ0LCBzdG9wXSk7XG4gIH1cbn1cblxuLy8g5Yib5bu65Y2V5L6L5a6e5L6LXG5jb25zdCByZWRpc0NsaWVudCA9IG5ldyBSZWRpc0NsaWVudCgpO1xuXG5leHBvcnQgZGVmYXVsdCByZWRpc0NsaWVudDsiXSwibmFtZXMiOlsiUkVESVNfVVJMIiwicHJvY2VzcyIsImVudiIsIlJFRElTX1RPS0VOIiwiRXJyb3IiLCJSZWRpc0NsaWVudCIsImNvbnN0cnVjdG9yIiwiYmFzZVVybCIsInRva2VuIiwiZXhlY3V0ZSIsImNvbW1hbmQiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJzdGF0dXMiLCJkYXRhIiwianNvbiIsInJlc3VsdCIsImVycm9yIiwiY29uc29sZSIsInNldCIsImtleSIsInZhbHVlIiwidHRsIiwiZ2V0IiwiZGVsIiwiZXhpc3RzIiwiZXhwaXJlIiwic2Vjb25kcyIsImtleXMiLCJwYXR0ZXJuIiwibHB1c2giLCJycG9wIiwibGxlbiIsImxyYW5nZSIsInN0YXJ0Iiwic3RvcCIsInJlZGlzQ2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/redis.js\n");

/***/ }),

/***/ "(api)/./models/News.js":
/*!************************!*\
  !*** ./models/News.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\n// 实体模式\nconst EntitySchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: true\n    },\n    type: {\n        type: String,\n        required: true\n    },\n    description: {\n        type: String,\n        required: true\n    }\n});\n// 指标模式\nconst MetricSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: true\n    },\n    value: {\n        type: String,\n        required: true\n    },\n    description: {\n        type: String,\n        required: true\n    }\n});\n// 时间线事件模式\nconst TimelineEventSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    date: {\n        type: String,\n        required: true\n    },\n    event: {\n        type: String,\n        required: true\n    }\n});\n// 结构化信息模式\nconst StructuredInfoSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    entities: [\n        EntitySchema\n    ],\n    metrics: [\n        MetricSchema\n    ],\n    timeline: [\n        TimelineEventSchema\n    ]\n});\n// 可视化数据模式\nconst VisualizationDataSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    type: {\n        type: String,\n        required: true\n    },\n    title: {\n        type: String,\n        required: true\n    },\n    data: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.Mixed,\n        required: true\n    },\n    xAxisKey: String,\n    yAxisKeys: [\n        String\n    ],\n    pieKey: String,\n    valueKey: String,\n    colors: [\n        String\n    ]\n});\n// 新闻模式\nconst NewsSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    title: {\n        type: String,\n        required: true\n    },\n    summary: {\n        type: String,\n        required: true\n    },\n    content: {\n        type: String,\n        required: true\n    },\n    category: {\n        type: String,\n        required: true\n    },\n    tags: {\n        type: [\n            String\n        ],\n        required: true\n    },\n    publishDate: {\n        type: Date,\n        required: true,\n        default: Date.now\n    },\n    source: {\n        type: String,\n        required: true\n    },\n    sourceUrl: {\n        type: String,\n        required: true\n    },\n    imageUrl: String,\n    author: String,\n    trending: {\n        type: Boolean,\n        default: false\n    },\n    isRealtime: {\n        type: Boolean,\n        default: false\n    },\n    structuredInfo: StructuredInfoSchema,\n    visualizationData: [\n        VisualizationDataSchema\n    ],\n    aiSummary: String,\n    readTime: Number,\n    views: {\n        type: Number,\n        default: 0\n    },\n    likes: {\n        type: Number,\n        default: 0\n    },\n    shares: {\n        type: Number,\n        default: 0\n    }\n}, {\n    timestamps: true\n});\n// 创建索引\nNewsSchema.index({\n    publishDate: -1\n});\nNewsSchema.index({\n    category: 1\n});\nNewsSchema.index({\n    trending: 1\n});\nNewsSchema.index({\n    tags: 1\n});\nNewsSchema.index({\n    title: \"text\",\n    summary: \"text\",\n    content: \"text\"\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).News || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"News\", NewsSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFO0FBQy9CSCxXQUFXeUIsS0FBSyxDQUFDO0lBQUVaLFVBQVU7QUFBRTtBQUMvQmIsV0FBV3lCLEtBQUssQ0FBQztJQUFFckIsTUFBTTtBQUFFO0FBQzNCSixXQUFXeUIsS0FBSyxDQUFDO0lBQUVsQyxPQUFPO0lBQVFVLFNBQVM7SUFBUUMsU0FBUztBQUFPO0FBRW5FLGlFQUFlN0Isd0RBQWUsQ0FBQ3NELElBQUksSUFBSXRELHFEQUFjLENBQUMsUUFBUTJCLFdBQVdBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nbG9iYWwtdGVjaC1uZXdzLy4vbW9kZWxzL05ld3MuanM/ZTFhYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG4vLyDlrp7kvZPmqKHlvI9cbmNvbnN0IEVudGl0eVNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgdHlwZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGRlc2NyaXB0aW9uOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfVxufSk7XG5cbi8vIOaMh+agh+aooeW8j1xuY29uc3QgTWV0cmljU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICB2YWx1ZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGRlc2NyaXB0aW9uOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfVxufSk7XG5cbi8vIOaXtumXtOe6v+S6i+S7tuaooeW8j1xuY29uc3QgVGltZWxpbmVFdmVudFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBkYXRlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgZXZlbnQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9XG59KTtcblxuLy8g57uT5p6E5YyW5L+h5oGv5qih5byPXG5jb25zdCBTdHJ1Y3R1cmVkSW5mb1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBlbnRpdGllczogW0VudGl0eVNjaGVtYV0sXG4gIG1ldHJpY3M6IFtNZXRyaWNTY2hlbWFdLFxuICB0aW1lbGluZTogW1RpbWVsaW5lRXZlbnRTY2hlbWFdXG59KTtcblxuLy8g5Y+v6KeG5YyW5pWw5o2u5qih5byPXG5jb25zdCBWaXN1YWxpemF0aW9uRGF0YVNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICB0eXBlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgdGl0bGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBkYXRhOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5NaXhlZCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgeEF4aXNLZXk6IFN0cmluZyxcbiAgeUF4aXNLZXlzOiBbU3RyaW5nXSxcbiAgcGllS2V5OiBTdHJpbmcsXG4gIHZhbHVlS2V5OiBTdHJpbmcsXG4gIGNvbG9yczogW1N0cmluZ11cbn0pO1xuXG4vLyDmlrDpl7vmqKHlvI9cbmNvbnN0IE5ld3NTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgdGl0bGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBzdW1tYXJ5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgY29udGVudDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGNhdGVnb3J5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgdGFnczogeyB0eXBlOiBbU3RyaW5nXSwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgcHVibGlzaERhdGU6IHsgdHlwZTogRGF0ZSwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IERhdGUubm93IH0sXG4gIHNvdXJjZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHNvdXJjZVVybDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGltYWdlVXJsOiBTdHJpbmcsXG4gIGF1dGhvcjogU3RyaW5nLFxuICB0cmVuZGluZzogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICBpc1JlYWx0aW1lOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG4gIHN0cnVjdHVyZWRJbmZvOiBTdHJ1Y3R1cmVkSW5mb1NjaGVtYSxcbiAgdmlzdWFsaXphdGlvbkRhdGE6IFtWaXN1YWxpemF0aW9uRGF0YVNjaGVtYV0sXG4gIGFpU3VtbWFyeTogU3RyaW5nLFxuICByZWFkVGltZTogTnVtYmVyLFxuICB2aWV3czogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfSxcbiAgbGlrZXM6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXG4gIHNoYXJlczogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfVxufSwge1xuICB0aW1lc3RhbXBzOiB0cnVlXG59KTtcblxuLy8g5Yib5bu657Si5byVXG5OZXdzU2NoZW1hLmluZGV4KHsgcHVibGlzaERhdGU6IC0xIH0pO1xuTmV3c1NjaGVtYS5pbmRleCh7IGNhdGVnb3J5OiAxIH0pO1xuTmV3c1NjaGVtYS5pbmRleCh7IHRyZW5kaW5nOiAxIH0pO1xuTmV3c1NjaGVtYS5pbmRleCh7IHRhZ3M6IDEgfSk7XG5OZXdzU2NoZW1hLmluZGV4KHsgdGl0bGU6ICd0ZXh0Jywgc3VtbWFyeTogJ3RleHQnLCBjb250ZW50OiAndGV4dCcgfSk7XG5cbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVscy5OZXdzIHx8IG1vbmdvb3NlLm1vZGVsKCdOZXdzJywgTmV3c1NjaGVtYSk7Il0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiRW50aXR5U2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImRlc2NyaXB0aW9uIiwiTWV0cmljU2NoZW1hIiwidmFsdWUiLCJUaW1lbGluZUV2ZW50U2NoZW1hIiwiZGF0ZSIsImV2ZW50IiwiU3RydWN0dXJlZEluZm9TY2hlbWEiLCJlbnRpdGllcyIsIm1ldHJpY3MiLCJ0aW1lbGluZSIsIlZpc3VhbGl6YXRpb25EYXRhU2NoZW1hIiwidGl0bGUiLCJkYXRhIiwiVHlwZXMiLCJNaXhlZCIsInhBeGlzS2V5IiwieUF4aXNLZXlzIiwicGllS2V5IiwidmFsdWVLZXkiLCJjb2xvcnMiLCJOZXdzU2NoZW1hIiwic3VtbWFyeSIsImNvbnRlbnQiLCJjYXRlZ29yeSIsInRhZ3MiLCJwdWJsaXNoRGF0ZSIsIkRhdGUiLCJkZWZhdWx0Iiwibm93Iiwic291cmNlIiwic291cmNlVXJsIiwiaW1hZ2VVcmwiLCJhdXRob3IiLCJ0cmVuZGluZyIsIkJvb2xlYW4iLCJpc1JlYWx0aW1lIiwic3RydWN0dXJlZEluZm8iLCJ2aXN1YWxpemF0aW9uRGF0YSIsImFpU3VtbWFyeSIsInJlYWRUaW1lIiwiTnVtYmVyIiwidmlld3MiLCJsaWtlcyIsInNoYXJlcyIsInRpbWVzdGFtcHMiLCJpbmRleCIsIm1vZGVscyIsIk5ld3MiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./models/News.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/news/index.ts":
/*!*************************************!*\
  !*** ./src/pages/api/news/index.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/db */ \"(api)/./lib/db.js\");\n/* harmony import */ var _models_News__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../models/News */ \"(api)/./models/News.js\");\n/* harmony import */ var _lib_redis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../lib/redis */ \"(api)/./lib/redis.js\");\n\n\n\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        return res.status(405).json({\n            message: \"Method not allowed\"\n        });\n    }\n    try {\n        await (0,_lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n        const { category, page = 1, limit = 10, sort = \"publishedAt\" } = req.query;\n        const pageNum = parseInt(page);\n        const limitNum = parseInt(limit);\n        const skip = (pageNum - 1) * limitNum;\n        // 构建缓存键\n        const cacheKey = `news:list:${category || \"all\"}:page:${pageNum}:limit:${limitNum}:sort:${sort}`;\n        // 尝试从Redis获取缓存\n        try {\n            const cached = await _lib_redis__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get(cacheKey);\n            if (cached) {\n                const result = JSON.parse(cached);\n                return res.status(200).json(result);\n            }\n        } catch (cacheError) {\n            console.warn(\"Redis cache error:\", cacheError);\n        }\n        // 构建查询条件 - 移除status过滤，因为数据库中没有这个字段\n        let query = {};\n        if (category && category !== \"all\") {\n            query.category = category;\n        }\n        // 构建排序条件 - 使用正确的字段名\n        let sortCondition = {};\n        switch(sort){\n            case \"views\":\n                sortCondition = {\n                    views: -1,\n                    publishDate: -1\n                };\n                break;\n            case \"likes\":\n                sortCondition = {\n                    likes: -1,\n                    publishDate: -1\n                };\n                break;\n            default:\n                sortCondition = {\n                    publishDate: -1\n                };\n        }\n        // 获取新闻列表和总数 - 使用正确的字段名\n        const [news, total] = await Promise.all([\n            _models_News__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find(query).select(\"title summary author publishDate category tags views likes imageUrl source\").sort(sortCondition).skip(skip).limit(limitNum).lean(),\n            _models_News__WEBPACK_IMPORTED_MODULE_1__[\"default\"].countDocuments(query)\n        ]);\n        const result = {\n            success: true,\n            data: news,\n            pagination: {\n                currentPage: pageNum,\n                totalPages: Math.ceil(total / limitNum),\n                totalItems: total,\n                itemsPerPage: limitNum,\n                hasNextPage: pageNum < Math.ceil(total / limitNum),\n                hasPrevPage: pageNum > 1\n            },\n            message: \"获取新闻列表成功\"\n        };\n        // 缓存结果（5分钟）\n        try {\n            await _lib_redis__WEBPACK_IMPORTED_MODULE_2__[\"default\"].set(cacheKey, JSON.stringify(result), 300);\n        } catch (cacheError) {\n            console.warn(\"Redis cache set error:\", cacheError);\n        }\n        return res.status(200).json(result);\n    } catch (error) {\n        console.error(\"获取新闻列表失败:\", error);\n        // 如果数据库连接失败，返回空结果\n        const fallbackResult = {\n            success: true,\n            data: [],\n            pagination: {\n                currentPage: parseInt(req.query.page) || 1,\n                totalPages: 0,\n                totalItems: 0,\n                itemsPerPage: parseInt(req.query.limit) || 10,\n                hasNextPage: false,\n                hasPrevPage: false\n            },\n            message: \"获取新闻列表成功（暂无数据）\"\n        };\n        return res.status(200).json(fallbackResult);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFlBQVk7Z0JBQ1ZDLGFBQWEzQixTQUFTWixJQUFJVSxLQUFLLENBQUNILElBQUksS0FBZTtnQkFDbkRpQyxZQUFZO2dCQUNaRyxZQUFZO2dCQUNaQyxjQUFjaEMsU0FBU1osSUFBSVUsS0FBSyxDQUFDRixLQUFLLEtBQWU7Z0JBQ3JEcUMsYUFBYTtnQkFDYkMsYUFBYTtZQUNmO1lBQ0F6QyxTQUFTO1FBQ1g7UUFFQSxPQUFPSixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDOEM7SUFDOUI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2dsb2JhbC10ZWNoLW5ld3MvLi9zcmMvcGFnZXMvYXBpL25ld3MvaW5kZXgudHM/ODJkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgY29ubmVjdERCIGZyb20gJy4uLy4uLy4uLy4uL2xpYi9kYic7XG5pbXBvcnQgTmV3cyBmcm9tICcuLi8uLi8uLi8uLi9tb2RlbHMvTmV3cyc7XG5pbXBvcnQgeyBzdWNjZXNzUmVzcG9uc2UsIGVycm9yUmVzcG9uc2UsIHBhZ2luYXRlZFJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vbGliL2FwaVJlc3BvbnNlJztcbmltcG9ydCByZWRpcyBmcm9tICcuLi8uLi8uLi8uLi9saWIvcmVkaXMnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKFxuICByZXE6IE5leHRBcGlSZXF1ZXN0LFxuICByZXM6IE5leHRBcGlSZXNwb25zZVxuKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSAnR0VUJykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IG1lc3NhZ2U6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBhd2FpdCBjb25uZWN0REIoKTtcblxuICAgIGNvbnN0IHsgY2F0ZWdvcnksIHBhZ2UgPSAxLCBsaW1pdCA9IDEwLCBzb3J0ID0gJ3B1Ymxpc2hlZEF0JyB9ID0gcmVxLnF1ZXJ5O1xuICAgIGNvbnN0IHBhZ2VOdW0gPSBwYXJzZUludChwYWdlIGFzIHN0cmluZyk7XG4gICAgY29uc3QgbGltaXROdW0gPSBwYXJzZUludChsaW1pdCBhcyBzdHJpbmcpO1xuICAgIGNvbnN0IHNraXAgPSAocGFnZU51bSAtIDEpICogbGltaXROdW07XG5cbiAgICAvLyDmnoTlu7rnvJPlrZjplK5cbiAgICBjb25zdCBjYWNoZUtleSA9IGBuZXdzOmxpc3Q6JHtjYXRlZ29yeSB8fCAnYWxsJ306cGFnZToke3BhZ2VOdW19OmxpbWl0OiR7bGltaXROdW19OnNvcnQ6JHtzb3J0fWA7XG5cbiAgICAvLyDlsJ3or5Xku45SZWRpc+iOt+WPlue8k+WtmFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBjYWNoZWQgPSBhd2FpdCByZWRpcy5nZXQoY2FjaGVLZXkpO1xuICAgICAgaWYgKGNhY2hlZCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKGNhY2hlZCk7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihyZXN1bHQpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGNhY2hlRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybignUmVkaXMgY2FjaGUgZXJyb3I6JywgY2FjaGVFcnJvcik7XG4gICAgfVxuXG4gICAgLy8g5p6E5bu65p+l6K+i5p2h5Lu2IC0g56e76Zmkc3RhdHVz6L+H5ruk77yM5Zug5Li65pWw5o2u5bqT5Lit5rKh5pyJ6L+Z5Liq5a2X5q61XG4gICAgbGV0IHF1ZXJ5OiBhbnkgPSB7fTtcbiAgICBcbiAgICBpZiAoY2F0ZWdvcnkgJiYgY2F0ZWdvcnkgIT09ICdhbGwnKSB7XG4gICAgICBxdWVyeS5jYXRlZ29yeSA9IGNhdGVnb3J5O1xuICAgIH1cblxuICAgIC8vIOaehOW7uuaOkuW6j+adoeS7tiAtIOS9v+eUqOato+ehrueahOWtl+auteWQjVxuICAgIGxldCBzb3J0Q29uZGl0aW9uOiBhbnkgPSB7fTtcbiAgICBzd2l0Y2ggKHNvcnQpIHtcbiAgICAgIGNhc2UgJ3ZpZXdzJzpcbiAgICAgICAgc29ydENvbmRpdGlvbiA9IHsgdmlld3M6IC0xLCBwdWJsaXNoRGF0ZTogLTEgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdsaWtlcyc6XG4gICAgICAgIHNvcnRDb25kaXRpb24gPSB7IGxpa2VzOiAtMSwgcHVibGlzaERhdGU6IC0xIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgc29ydENvbmRpdGlvbiA9IHsgcHVibGlzaERhdGU6IC0xIH07XG4gICAgfVxuXG4gICAgLy8g6I635Y+W5paw6Ze75YiX6KGo5ZKM5oC75pWwIC0g5L2/55So5q2j56Gu55qE5a2X5q615ZCNXG4gICAgY29uc3QgW25ld3MsIHRvdGFsXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIE5ld3MuZmluZChxdWVyeSlcbiAgICAgICAgLnNlbGVjdCgndGl0bGUgc3VtbWFyeSBhdXRob3IgcHVibGlzaERhdGUgY2F0ZWdvcnkgdGFncyB2aWV3cyBsaWtlcyBpbWFnZVVybCBzb3VyY2UnKVxuICAgICAgICAuc29ydChzb3J0Q29uZGl0aW9uKVxuICAgICAgICAuc2tpcChza2lwKVxuICAgICAgICAubGltaXQobGltaXROdW0pXG4gICAgICAgIC5sZWFuKCksXG4gICAgICBOZXdzLmNvdW50RG9jdW1lbnRzKHF1ZXJ5KVxuICAgIF0pO1xuXG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IG5ld3MsXG4gICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlTnVtLFxuICAgICAgICB0b3RhbFBhZ2VzOiBNYXRoLmNlaWwodG90YWwgLyBsaW1pdE51bSksXG4gICAgICAgIHRvdGFsSXRlbXM6IHRvdGFsLFxuICAgICAgICBpdGVtc1BlclBhZ2U6IGxpbWl0TnVtLFxuICAgICAgICBoYXNOZXh0UGFnZTogcGFnZU51bSA8IE1hdGguY2VpbCh0b3RhbCAvIGxpbWl0TnVtKSxcbiAgICAgICAgaGFzUHJldlBhZ2U6IHBhZ2VOdW0gPiAxXG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogJ+iOt+WPluaWsOmXu+WIl+ihqOaIkOWKnydcbiAgICB9O1xuXG4gICAgLy8g57yT5a2Y57uT5p6c77yINeWIhumSn++8iVxuICAgIHRyeSB7XG4gICAgICBhd2FpdCByZWRpcy5zZXQoY2FjaGVLZXksIEpTT04uc3RyaW5naWZ5KHJlc3VsdCksIDMwMCk7XG4gICAgfSBjYXRjaCAoY2FjaGVFcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdSZWRpcyBjYWNoZSBzZXQgZXJyb3I6JywgY2FjaGVFcnJvcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHJlc3VsdCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign6I635Y+W5paw6Ze75YiX6KGo5aSx6LSlOicsIGVycm9yKTtcbiAgICBcbiAgICAvLyDlpoLmnpzmlbDmja7lupPov57mjqXlpLHotKXvvIzov5Tlm57nqbrnu5PmnpxcbiAgICBjb25zdCBmYWxsYmFja1Jlc3VsdCA9IHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiBbXSxcbiAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgY3VycmVudFBhZ2U6IHBhcnNlSW50KHJlcS5xdWVyeS5wYWdlIGFzIHN0cmluZykgfHwgMSxcbiAgICAgICAgdG90YWxQYWdlczogMCxcbiAgICAgICAgdG90YWxJdGVtczogMCxcbiAgICAgICAgaXRlbXNQZXJQYWdlOiBwYXJzZUludChyZXEucXVlcnkubGltaXQgYXMgc3RyaW5nKSB8fCAxMCxcbiAgICAgICAgaGFzTmV4dFBhZ2U6IGZhbHNlLFxuICAgICAgICBoYXNQcmV2UGFnZTogZmFsc2VcbiAgICAgIH0sXG4gICAgICBtZXNzYWdlOiAn6I635Y+W5paw6Ze75YiX6KGo5oiQ5Yqf77yI5pqC5peg5pWw5o2u77yJJ1xuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKGZhbGxiYWNrUmVzdWx0KTtcbiAgfVxufSJdLCJuYW1lcyI6WyJjb25uZWN0REIiLCJOZXdzIiwicmVkaXMiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJjYXRlZ29yeSIsInBhZ2UiLCJsaW1pdCIsInNvcnQiLCJxdWVyeSIsInBhZ2VOdW0iLCJwYXJzZUludCIsImxpbWl0TnVtIiwic2tpcCIsImNhY2hlS2V5IiwiY2FjaGVkIiwiZ2V0IiwicmVzdWx0IiwiSlNPTiIsInBhcnNlIiwiY2FjaGVFcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwic29ydENvbmRpdGlvbiIsInZpZXdzIiwicHVibGlzaERhdGUiLCJsaWtlcyIsIm5ld3MiLCJ0b3RhbCIsIlByb21pc2UiLCJhbGwiLCJmaW5kIiwic2VsZWN0IiwibGVhbiIsImNvdW50RG9jdW1lbnRzIiwic3VjY2VzcyIsImRhdGEiLCJwYWdpbmF0aW9uIiwiY3VycmVudFBhZ2UiLCJ0b3RhbFBhZ2VzIiwiTWF0aCIsImNlaWwiLCJ0b3RhbEl0ZW1zIiwiaXRlbXNQZXJQYWdlIiwiaGFzTmV4dFBhZ2UiLCJoYXNQcmV2UGFnZSIsInNldCIsInN0cmluZ2lmeSIsImVycm9yIiwiZmFsbGJhY2tSZXN1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/news/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fnews&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cnews%5Cindex.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();