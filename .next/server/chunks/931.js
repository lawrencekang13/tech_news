"use strict";exports.id=931,exports.ids=[931],exports.modules={5941:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{dy:()=>i,qe:()=>c,y6:()=>o});var r=t(9648),n=e([r]);r=(n.then?(await n)():n)[0];let l="/api/user",i=async()=>{try{return(await r.default.get(`${l}/saved`)).data.data.savedNews||[]}catch(e){throw console.error("获取保存的资讯失败:",e),e}},o=async(e,s)=>{try{return(await r.default.post(`${l}/saved`,{newsId:e,categories:s})).data.data}catch(e){throw console.error("保存资讯失败:",e),e}},c=async e=>{try{return(await r.default.delete(`${l}/saved/${e}`)).data.data}catch(e){throw console.error("取消保存资讯失败:",e),e}};a()}catch(e){a(e)}})},7981:(e,s,t)=>{t.d(s,{Z:()=>n});var a=t(997),r=t(6689);let n=({summary:e,mode:s="detailed",maxLines:t,showFeedback:n=!1,onFeedback:l,className:i})=>{let[o,c]=(0,r.useState)(null),[d,m]=(0,r.useState)(!1),x=e=>{c(e),l&&l(e)},h=`ai-summary ${"compact"===s?"p-3":"p-4"} ${i||""}`,u=`text-secondary-700 ${"compact"!==s||d||void 0!==t?"text-base":"text-sm line-clamp-3"} ${void 0===t||d?"":`line-clamp-${t}`}`;return(0,a.jsxs)("div",{className:h,children:[(0,a.jsxs)("div",{className:"flex items-center text-primary-600 mb-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${"compact"===s?"h-4 w-4":"h-5 w-5"} mr-1`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),a.jsx("span",{className:"font-medium",children:"AI小总结"})]}),a.jsx("p",{className:u,children:e}),t&&e.length>150&&a.jsx("button",{onClick:()=>m(!d),className:"text-primary-500 text-sm mt-1 hover:text-primary-600 transition-colors",children:d?"收起":"展开全文"}),n&&(0,a.jsxs)("div",{className:"flex items-center mt-3 space-x-4",children:[(0,a.jsxs)("button",{onClick:()=>x("like"),className:`flex items-center text-sm ${"like"===o?"text-primary-500":"text-secondary-500 hover:text-primary-500"} transition-colors`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"like"===o?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})}),a.jsx("span",{children:"有帮助"})]}),(0,a.jsxs)("button",{onClick:()=>x("dislike"),className:`flex items-center text-sm ${"dislike"===o?"text-danger-500":"text-secondary-500 hover:text-danger-500"} transition-colors`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"dislike"===o?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.096c.5 0 .905-.405.905-.904 0-.715.211-1.413.608-2.008L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5"})}),a.jsx("span",{children:"无帮助"})]})]})]})}},4852:(e,s,t)=>{t.d(s,{Z:()=>o});var a=t(997),r=t(6689),n=t.n(r),l=t(7279);let i=({isOpen:e,onClose:s,title:t,children:n,maxWidth:i="md"})=>{let o=(0,r.useRef)(null);return(0,a.jsxs)(l.Vq,{open:e,onClose:s,initialFocus:o,className:"fixed inset-0 z-50 overflow-y-auto",transition:!0,children:[a.jsx("div",{className:"fixed inset-0 bg-secondary-800 bg-opacity-75 transition-opacity","aria-hidden":"true"}),(0,a.jsxs)("div",{className:"flex min-h-screen items-center justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:"​"}),a.jsx(l.Vq.Panel,{className:`inline-block transform rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:align-middle ${{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl"}[i]} w-full transition ease-out duration-300 data-[closed]:opacity-0 data-[closed]:scale-95`,children:a.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 rounded-t-lg",children:a.jsx("div",{className:"sm:flex sm:items-start",children:(0,a.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[a.jsx(l.Vq.Title,{as:"h3",className:"text-lg font-medium leading-6 text-secondary-900",children:t}),a.jsx("div",{className:"mt-4",children:n})]})})})})]})]})},o=({isOpen:e,onClose:s,categories:t,selectedCategory:l,onSelectCategory:o,onSave:c})=>{let[d,m]=(0,r.useState)([]);n().useEffect(()=>{m(l?[l]:[])},[l,e]);let x=e=>{m(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return(0,a.jsxs)(i,{isOpen:e,onClose:s,title:"选择分类",children:[(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("p",{className:"text-secondary-600 mb-4",children:"请为此资讯选择一个或多个分类，以便更好地组织您保存的内容。"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:t.map(e=>(0,a.jsxs)("button",{onClick:()=>x(e.slug),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${d.includes(e.slug)?"bg-primary-500 text-white":"bg-secondary-100 text-secondary-700 hover:bg-secondary-200"}`,children:[e.icon&&a.jsx("span",{className:"mr-1",children:e.icon}),e.name]},e.slug))})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 border-t border-secondary-200 pt-4",children:[a.jsx("button",{type:"button",className:"btn-secondary",onClick:s,children:"取消"}),a.jsx("button",{type:"button",className:"btn-primary",onClick:()=>{d.length>0&&(o(d),c(),s())},disabled:0===d.length,children:"保存"})]})]})}},2445:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>j});var r=t(997),n=t(6689),l=t(1664),i=t.n(l),o=t(5675),c=t.n(o),d=t(5032),m=t(5564),x=t(6201),h=t(7981),u=t(4852),p=t(5941),g=e([x,p]);[x,p]=g.then?(await g)():g;let j=({news:e,isSaved:s=!1,onSaveStatusChange:t})=>{let[a,l]=(0,n.useState)(!1),[o,g]=(0,n.useState)([]),[j,y]=(0,n.useState)(s),[v,f]=(0,n.useState)(!1),w=(0,d.Z)(new Date(e.publishDate),{addSuffix:!0,locale:m.zhCN}),b=async()=>{if(j)try{await (0,p.qe)(e.id),y(!1),t&&t(e.id,!1),x.toast.success("已从收藏中移除")}catch(e){console.error("取消保存资讯失败:",e),x.toast.error("操作失败，请稍后重试")}else l(!0)},N=async()=>{if(0===o.length){x.toast.error("请至少选择一个分类");return}f(!0);try{await (0,p.y6)(e.id,o),y(!0),l(!1),t&&t(e.id,!0),x.toast.success(`已添加到收藏: ${o.map(k).join(", ")}`)}catch(e){console.error("保存资讯失败:",e),x.toast.error("保存失败，请稍后重试")}finally{f(!1)}},k=e=>({ai:"人工智能","quantum-computing":"量子计算",blockchain:"区块链",biotech:"生物科技","ar-vr":"AR/VR","autonomous-vehicles":"自动驾驶"})[e]||e;return(0,r.jsxs)("div",{className:"card hover:translate-y-[-4px] transition-all duration-300",children:[e.imageUrl&&r.jsx(i(),{href:`/news/${e.id}`,className:"block relative h-48 rounded-md overflow-hidden mb-4",children:r.jsx(c(),{src:e.imageUrl,alt:e.title,fill:!0,className:"object-cover"})}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-secondary-500 mb-2",children:[r.jsx("span",{className:"badge badge-primary mr-2",children:k(e.category)}),r.jsx("span",{children:e.source}),r.jsx("span",{className:"mx-2",children:"•"}),r.jsx("span",{children:w})]}),r.jsx("h2",{className:"text-xl font-bold mb-2 line-clamp-2 hover:text-primary-600 transition-colors",children:r.jsx(i(),{href:`/news/${e.id}`,children:e.title})}),r.jsx("div",{className:"mb-4",children:r.jsx(h.Z,{summary:e.summary,mode:"compact",maxLines:3})}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.tags&&e.tags.length>0&&e.tags.slice(0,3).map(e=>r.jsx(i(),{href:`/search?tag=${encodeURIComponent(e)}`,className:"badge badge-secondary hover:bg-secondary-200 transition-colors",children:e},e)),e.tags&&e.tags.length>3&&(0,r.jsxs)("span",{className:"badge badge-secondary",children:["+",e.tags.length-3]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-secondary-100",children:[e.sourceUrl?(0,r.jsxs)("a",{href:e.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary-500 hover:text-primary-600 text-sm font-medium flex items-center",children:["阅读全文",r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}):(0,r.jsxs)(i(),{href:`/news/${e.id}`,className:"text-primary-500 hover:text-primary-600 text-sm font-medium flex items-center",children:["阅读全文",r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}),(0,r.jsxs)("button",{onClick:b,className:`flex items-center space-x-1 ${j?"text-primary-500":"text-secondary-500 hover:text-primary-500"} transition-colors`,disabled:v,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:j?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),r.jsx("span",{className:"text-sm",children:v?"保存中...":j?"已保存":"保存"})]})]}),r.jsx(u.Z,{isOpen:a,onClose:()=>l(!1),categories:[{id:"ai",name:"人工智能",slug:"ai"},{id:"quantum-computing",name:"量子计算",slug:"quantum-computing"},{id:"blockchain",name:"区块链",slug:"blockchain"},{id:"biotech",name:"生物科技",slug:"biotech"},{id:"ar-vr",name:"AR/VR",slug:"ar-vr"},{id:"autonomous-vehicles",name:"自动驾驶",slug:"autonomous-vehicles"}],selectedCategory:o[0]||"",onSelectCategory:e=>{Array.isArray(e)?g(e):e?g([e]):g([])},onSave:N})]})};a()}catch(e){a(e)}})},1070:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});var a=t(997),r=t(6859),n=t.n(r);class l extends n(){static async getInitialProps(e){return{...await n().getInitialProps(e)}}render(){return(0,a.jsxs)(r.Html,{lang:"zh",children:[(0,a.jsxs)(r.Head,{children:[a.jsx("meta",{charSet:"utf-8"}),a.jsx("meta",{name:"description",content:"全球最新科技资讯平台 - 提供结构化、可视化和AI小总结的科技资讯"}),a.jsx("meta",{name:"keywords",content:"科技资讯,AI小总结,结构化信息,可视化,科技新闻"}),a.jsx("link",{rel:"icon",href:"/favicon.ico"}),a.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),a.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),a.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto+Mono&display=swap",rel:"stylesheet"})]}),(0,a.jsxs)("body",{children:[a.jsx(r.Main,{}),a.jsx(r.NextScript,{})]})]})}}let i=l}};