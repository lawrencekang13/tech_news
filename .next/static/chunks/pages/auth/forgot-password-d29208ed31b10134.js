(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{3349:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/forgot-password",function(){return t(2764)}])},2764:function(e,s,t){"use strict";t.r(s);var r=t(5893),a=t(7294),n=t(9008),l=t.n(n),c=t(1664),i=t.n(c),d=t(1163);s.default=()=>{(0,d.useRouter)();let[e,s]=(0,a.useState)(""),[t,n]=(0,a.useState)(""),[c,m]=(0,a.useState)(!1),[o,x]=(0,a.useState)(!1),h=()=>e.trim()?!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||(n("请输入有效的邮箱地址"),!1):(n("请输入邮箱"),!1),u=async s=>{if(s.preventDefault(),n(""),h()){m(!0);try{await new Promise(e=>setTimeout(e,1e3)),console.log("密码重置邮件已发送",e),x(!0)}catch(e){n(e instanceof Error?e.message:"发送重置链接失败，请重试"),x(!1)}finally{m(!1)}}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:"忘记密码 - 科技资讯"}),(0,r.jsx)("meta",{name:"description",content:"重置您的科技资讯账户密码"})]}),(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-secondary-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-center text-3xl font-bold text-secondary-900",children:"忘记密码"}),(0,r.jsx)("p",{className:"mt-2 text-center text-sm text-secondary-600",children:"输入您的邮箱，我们将发送重置密码的链接"})]}),o?(0,r.jsxs)("div",{className:"mt-8 space-y-6",children:[(0,r.jsx)("div",{className:"bg-success-50 border border-success-200 text-success-700 px-4 py-3 rounded relative",role:"alert",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"py-1",children:(0,r.jsx)("svg",{className:"fill-current h-6 w-6 text-success-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM6.7 9.29L9 11.6l4.3-4.3 1.4 1.42L9 14.4l-3.7-3.7 1.4-1.42z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-bold",children:"重置链接已发送"}),(0,r.jsxs)("p",{className:"text-sm",children:["我们已向 ",e," 发送了一封包含密码重置链接的电子邮件。请检查您的收件箱，并按照邮件中的说明进行操作。"]})]})]})}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-sm text-secondary-600 mb-4",children:"没有收到邮件？"}),(0,r.jsx)("button",{onClick:()=>x(!1),className:"text-primary-600 hover:text-primary-500 font-medium",children:"重新发送"})]})]}):(0,r.jsxs)(r.Fragment,{children:[t&&(0,r.jsx)("div",{className:"bg-danger-50 border border-danger-200 text-danger-700 px-4 py-3 rounded relative",role:"alert",children:(0,r.jsx)("span",{className:"block sm:inline",children:t})}),(0,r.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:u,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-secondary-700",children:"邮箱"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"input-primary w-full ".concat(t?"border-danger-300 focus:border-danger-500 focus:ring-danger-500":""),value:e,onChange:e=>{s(e.target.value),n("")}})})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",className:"btn-primary w-full flex justify-center items-center",disabled:c,children:c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"发送中..."]}):"发送重置链接"})})]})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsx)(i(),{href:"/auth/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"返回登录"})})]})})]})}},9008:function(e,s,t){e.exports=t(3867)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=3349)}),_N_E=e.O()}]);