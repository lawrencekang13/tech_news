(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[161],{829:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/categories",function(){return a(9880)}])},9880:function(e,s,a){"use strict";a.r(s);var n=a(5893),r=a(7294),t=a(9008),d=a.n(t),i=a(1664),c=a.n(i),o=a(8767),l=a(7111);s.default=()=>{let{data:e=[],isLoading:s,isError:a}=(0,o.useQuery)("allCategories",()=>l.tG(),{staleTime:36e5}),t=r.useMemo(()=>{let s={},a=e.filter(e=>!e.parentId);return a.forEach(a=>{s[a.id]=e.filter(e=>e.parentId===a.id)}),{topLevel:a,grouped:s}},[e]);return s?(0,n.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,n.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,n.jsx)("div",{className:"h-8 bg-secondary-200 rounded w-1/3 mb-4"}),(0,n.jsx)("div",{className:"h-4 bg-secondary-200 rounded w-2/3 mb-8"}),[1,2,3,4].map(e=>(0,n.jsx)("div",{className:"h-20 bg-secondary-200 rounded mb-4"},e))]})}):a?(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8 text-center",children:[(0,n.jsx)("div",{className:"text-danger mb-2",children:"获取分类列表失败"}),(0,n.jsx)("button",{className:"btn-primary",onClick:()=>window.location.reload(),children:"重试"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d(),{children:[(0,n.jsx)("title",{children:"全部分类 - 科技前沿资讯"}),(0,n.jsx)("meta",{name:"description",content:"浏览所有科技前沿资讯分类"})]}),(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"全部分类"}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.topLevel.map(e=>{var s;return(0,n.jsxs)("div",{className:"border border-secondary-200 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,n.jsx)(c(),{href:"/categories/".concat(e.slug),className:"block",children:(0,n.jsxs)("h2",{className:"text-xl font-semibold mb-3 text-primary-600 hover:text-primary-700 transition-colors",children:[e.icon&&(0,n.jsx)("span",{className:"mr-2",children:e.icon}),e.name]})}),e.description&&(0,n.jsx)("p",{className:"text-secondary-600 mb-4 text-sm",children:e.description}),(null===(s=t.grouped[e.id])||void 0===s?void 0:s.length)>0&&(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("h3",{className:"text-sm font-medium text-secondary-700 mb-2",children:"相关分类："}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:t.grouped[e.id].map(e=>(0,n.jsx)(c(),{href:"/categories/".concat(e.slug),className:"text-xs bg-secondary-100 text-secondary-700 px-2 py-1 rounded hover:bg-secondary-200 transition-colors",children:e.name},e.id))})]})]},e.id)})})]})]})}},9008:function(e,s,a){e.exports=a(3867)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=829)}),_N_E=e.O()}]);