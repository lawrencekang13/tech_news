"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[112],{4198:function(e,s,t){t.d(s,{dy:function(){return n},qe:function(){return l},y6:function(){return c}});var a=t(7066);let r="/api/user",n=async()=>{try{return(await a.Z.get("".concat(r,"/saved"))).data.data.savedNews||[]}catch(e){throw console.error("获取保存的资讯失败:",e),e}},c=async(e,s)=>{try{return(await a.Z.post("".concat(r,"/saved"),{newsId:e,categories:s})).data.data}catch(e){throw console.error("保存资讯失败:",e),e}},l=async e=>{try{return(await a.Z.delete("".concat(r,"/saved/").concat(e))).data.data}catch(e){throw console.error("取消保存资讯失败:",e),e}}},4272:function(e,s,t){var a=t(5893),r=t(7294);s.Z=e=>{let{summary:s,mode:t="detailed",maxLines:n,showFeedback:c=!1,onFeedback:l,className:i}=e,[o,d]=(0,r.useState)(null),[m,x]=(0,r.useState)(!1),h=e=>{d(e),l&&l(e)},u="ai-summary ".concat("compact"===t?"p-3":"p-4"," ").concat(i||""),p="text-secondary-700 ".concat("compact"!==t||m||void 0!==n?"text-base":"text-sm line-clamp-3"," ").concat(void 0===n||m?"":"line-clamp-".concat(n));return(0,a.jsxs)("div",{className:u,children:[(0,a.jsxs)("div",{className:"flex items-center text-primary-600 mb-2",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"".concat("compact"===t?"h-4 w-4":"h-5 w-5"," mr-1"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,a.jsx)("span",{className:"font-medium",children:"AI小总结"})]}),(0,a.jsx)("p",{className:p,children:s}),n&&s.length>150&&(0,a.jsx)("button",{onClick:()=>x(!m),className:"text-primary-500 text-sm mt-1 hover:text-primary-600 transition-colors",children:m?"收起":"展开全文"}),c&&(0,a.jsxs)("div",{className:"flex items-center mt-3 space-x-4",children:[(0,a.jsxs)("button",{onClick:()=>h("like"),className:"flex items-center text-sm ".concat("like"===o?"text-primary-500":"text-secondary-500 hover:text-primary-500"," transition-colors"),children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"like"===o?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})}),(0,a.jsx)("span",{children:"有帮助"})]}),(0,a.jsxs)("button",{onClick:()=>h("dislike"),className:"flex items-center text-sm ".concat("dislike"===o?"text-danger-500":"text-secondary-500 hover:text-danger-500"," transition-colors"),children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"dislike"===o?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.096c.5 0 .905-.405.905-.904 0-.715.211-1.413.608-2.008L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5"})}),(0,a.jsx)("span",{children:"无帮助"})]})]})]})}},7183:function(e,s,t){t.d(s,{Z:function(){return j}});var a=t(5893),r=t(7294),n=t(1664),c=t.n(n),l=t(5675),i=t.n(l),o=t(6076),d=t(4346),m=t(6501),x=t(4272),h=t(2424),u=e=>{let{isOpen:s,onClose:t,title:n,children:c,maxWidth:l="md"}=e,i=(0,r.useRef)(null);return(0,a.jsxs)(h.Vq,{open:s,onClose:t,initialFocus:i,className:"fixed inset-0 z-50 overflow-y-auto",transition:!0,children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-secondary-800 bg-opacity-75 transition-opacity","aria-hidden":"true"}),(0,a.jsxs)("div",{className:"flex min-h-screen items-center justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[(0,a.jsx)("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:"​"}),(0,a.jsx)(h.Vq.Panel,{className:"inline-block transform rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:align-middle ".concat({sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl"}[l]," w-full transition ease-out duration-300 data-[closed]:opacity-0 data-[closed]:scale-95"),children:(0,a.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 rounded-t-lg",children:(0,a.jsx)("div",{className:"sm:flex sm:items-start",children:(0,a.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[(0,a.jsx)(h.Vq.Title,{as:"h3",className:"text-lg font-medium leading-6 text-secondary-900",children:n}),(0,a.jsx)("div",{className:"mt-4",children:c})]})})})})]})]})},p=e=>{let{isOpen:s,onClose:t,categories:n,selectedCategory:c,onSelectCategory:l,onSave:i}=e,[o,d]=(0,r.useState)([]);r.useEffect(()=>{d(c?[c]:[])},[c,s]);let m=e=>{d(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return(0,a.jsxs)(u,{isOpen:s,onClose:t,title:"选择分类",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-secondary-600 mb-4",children:"请为此资讯选择一个或多个分类，以便更好地组织您保存的内容。"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:n.map(e=>(0,a.jsxs)("button",{onClick:()=>m(e.slug),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat(o.includes(e.slug)?"bg-primary-500 text-white":"bg-secondary-100 text-secondary-700 hover:bg-secondary-200"),children:[e.icon&&(0,a.jsx)("span",{className:"mr-1",children:e.icon}),e.name]},e.slug))})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 border-t border-secondary-200 pt-4",children:[(0,a.jsx)("button",{type:"button",className:"btn-secondary",onClick:t,children:"取消"}),(0,a.jsx)("button",{type:"button",className:"btn-primary",onClick:()=>{o.length>0&&(l(o),i(),t())},disabled:0===o.length,children:"保存"})]})]})},g=t(4198),j=e=>{let{news:s,isSaved:t=!1,onSaveStatusChange:n}=e,[l,h]=(0,r.useState)(!1),[u,j]=(0,r.useState)([]),[v,w]=(0,r.useState)(t),[f,y]=(0,r.useState)(!1),b=(0,o.Z)(new Date(s.publishDate),{addSuffix:!0,locale:d.Z}),N=async()=>{if(v)try{await (0,g.qe)(s.id),w(!1),n&&n(s.id,!1),m.Am.success("已从收藏中移除")}catch(e){console.error("取消保存资讯失败:",e),m.Am.error("操作失败，请稍后重试")}else h(!0)},k=async()=>{if(0===u.length){m.Am.error("请至少选择一个分类");return}y(!0);try{await (0,g.y6)(s.id,u),w(!0),h(!1),n&&n(s.id,!0),m.Am.success("已添加到收藏: ".concat(u.map(C).join(", ")))}catch(e){console.error("保存资讯失败:",e),m.Am.error("保存失败，请稍后重试")}finally{y(!1)}},C=e=>({ai:"人工智能","quantum-computing":"量子计算",blockchain:"区块链",biotech:"生物科技","ar-vr":"AR/VR","autonomous-vehicles":"自动驾驶"})[e]||e;return(0,a.jsxs)("div",{className:"card hover:translate-y-[-4px] transition-all duration-300",children:[s.imageUrl&&(0,a.jsx)(c(),{href:"/news/".concat(s.id),className:"block relative h-48 rounded-md overflow-hidden mb-4",children:(0,a.jsx)(i(),{src:s.imageUrl,alt:s.title,fill:!0,className:"object-cover"})}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-secondary-500 mb-2",children:[(0,a.jsx)("span",{className:"badge badge-primary mr-2",children:C(s.category)}),(0,a.jsx)("span",{children:s.source}),(0,a.jsx)("span",{className:"mx-2",children:"•"}),(0,a.jsx)("span",{children:b})]}),(0,a.jsx)("h2",{className:"text-xl font-bold mb-2 line-clamp-2 hover:text-primary-600 transition-colors",children:(0,a.jsx)(c(),{href:"/news/".concat(s.id),children:s.title})}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(x.Z,{summary:s.summary,mode:"compact",maxLines:3})}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[s.tags&&s.tags.length>0&&s.tags.slice(0,3).map(e=>(0,a.jsx)(c(),{href:"/search?tag=".concat(encodeURIComponent(e)),className:"badge badge-secondary hover:bg-secondary-200 transition-colors",children:e},e)),s.tags&&s.tags.length>3&&(0,a.jsxs)("span",{className:"badge badge-secondary",children:["+",s.tags.length-3]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-secondary-100",children:[s.sourceUrl?(0,a.jsxs)("a",{href:s.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary-500 hover:text-primary-600 text-sm font-medium flex items-center",children:["阅读全文",(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}):(0,a.jsxs)(c(),{href:"/news/".concat(s.id),className:"text-primary-500 hover:text-primary-600 text-sm font-medium flex items-center",children:["阅读全文",(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}),(0,a.jsxs)("button",{onClick:N,className:"flex items-center space-x-1 ".concat(v?"text-primary-500":"text-secondary-500 hover:text-primary-500"," transition-colors"),disabled:f,children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:v?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),(0,a.jsx)("span",{className:"text-sm",children:f?"保存中...":v?"已保存":"保存"})]})]}),(0,a.jsx)(p,{isOpen:l,onClose:()=>h(!1),categories:[{id:"ai",name:"人工智能",slug:"ai"},{id:"quantum-computing",name:"量子计算",slug:"quantum-computing"},{id:"blockchain",name:"区块链",slug:"blockchain"},{id:"biotech",name:"生物科技",slug:"biotech"},{id:"ar-vr",name:"AR/VR",slug:"ar-vr"},{id:"autonomous-vehicles",name:"自动驾驶",slug:"autonomous-vehicles"}],selectedCategory:u[0]||"",onSelectCategory:e=>{Array.isArray(e)?j(e):e?j([e]):j([])},onSave:k})]})}}}]);